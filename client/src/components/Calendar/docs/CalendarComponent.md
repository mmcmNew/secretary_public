# CalendarComponent

## Описание

`CalendarComponent` - это основной компонент календаря, который отображает события и задачи в виде календаря. Он использует библиотеку FullCalendar и предоставляет интерфейс для взаимодействия с календарем, включая создание, редактирование и удаление событий.

## Взаимодействие компонентов

`CalendarComponent` взаимодействует со следующими компонентами и хуками:
- `FullCalendar` - для отображения календаря
- `ListsList` - для отображения списков задач
- `NewTaskDialog` - для создания новых задач
- `SettingsDialog` - для настройки календаря
- `TaskDialog` - для редактирования задач
- `useCalendar` - для получения данных и функций календаря
- `TasksContext` - для получения данных о задачах и списках

## Задачи компонента

1. Отображение календаря с событиями и задачами
2. Обработка пользовательских действий (создание, редактирование, удаление событий)
3. Управление отображением списков задач и настроек календаря
4. Обработка перетаскивания задач в календарь
5. Обработка выбора дат для создания новых задач

## Зоны ответственности

- Отображение календаря и событий
- Обработка пользовательских действий с календарем
- Управление отображением вспомогательных компонентов (диалогов, списков)
- Обработка перетаскивания задач
- Преобразование времени с учетом смещения

## Props

| Название | Тип | Обязательный | Описание |
|----------|-----|-------------|----------|
| `calendarRef` | `object` | Нет | Ref для доступа к API календаря |
| `events` | `array` | Нет | Массив событий для отображения в календаре |
| `tasks` | `array` | Нет | Массив задач для отображения в списке |
| `lists` | `object` | Нет | Объект со списками задач |
| `fetchTasks` | `function` | Нет | Функция для получения задач |
| `onCreateTask` | `function` | Нет | Функция для создания новой задачи |
| `newSettings` | `object` | Да | Объект с настройками календаря |
| `saveSettings` | `function` | Да | Функция для сохранения настроек календаря |
| `handleEventClick` | `function` | Нет | Функция для обработки клика по событию |
| `handleEventChange` | `function` | Нет | Функция для обработки изменения события |
| `eventReceive` | `function` | Нет | Функция для обработки получения события |
| `datesSet` | `function` | Нет | Функция для обработки изменения диапазона дат |
| `calendarUIState` | `object` | Нет | Объект с состоянием UI календаря |
| `taskFields` | `object` | Нет | Объект с описанием полей задачи |
| `handleDialogClose` | `function` | Нет | Функция для закрытия диалога |
| `handleOverrideChoice` | `function` | Нет | Функция для обработки выбора экземпляра посторяющегося события. Чтоб выбрать что будет обновляться экземпляр или родительская задача |
| `setOverrideSnackbar` | `function` | Нет | Функция для установки состояния snackbar |
| `changeInstanceStatus` | `function` | Нет | Функция для изменения статуса экземпляра задачи |
| `handleTaskChange` | `function` | Нет | Функция для изменения задачи |
| `handleInstanceChange` | `function` | Нет | Функция для изменения экземпляра задачи |
| `handleDeleteTaskDate` | `function` | Нет | Функция для удаления даты задачи |
| `handleDeleteInstanceDate` | `function` | Нет | Функция для удаления даты экземпляра задачи |
| `addSubTask` | `function` | Нет | Функция для добавления подзадачи |
| `changeTaskStatus` | `function` | Нет | Функция для изменения статуса задачи |
| `deleteTask` | `function` | Нет | Функция для удаления задачи |